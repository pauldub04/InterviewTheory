<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Базы данных - InterviewTheory</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../cpp/SUMMARY.html"><strong aria-hidden="true">1.</strong> C++</a></li><li class="chapter-item expanded "><a href="../distributed_systems/theory.html"><strong aria-hidden="true">2.</strong> Распределённые системы</a></li><li class="chapter-item expanded "><a href="../DB/theory_BDS.html" class="active"><strong aria-hidden="true">3.</strong> Базы данных</a></li><li class="chapter-item expanded "><a href="../network/theory.html"><strong aria-hidden="true">4.</strong> Сети</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">InterviewTheory</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/pauldub04/InterviewTheory" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#Базы-данных" id="Базы-данных">Базы данных</a></h1>
<h2><a class="header" href="#Обзор-СУБД" id="Обзор-СУБД">Обзор СУБД</a></h2>
<p>Какие бывают базы данных?</p>
<ul>
<li>Key-value</li>
<li>Документоориентированные</li>
<li>Реляционные</li>
</ul>
<h3><a class="header" href="#key-value" id="key-value">Key-value</a></h3>
<p><img src="images/1.png" alt="alt text" /></p>
<h3><a class="header" href="#Документоориентированные" id="Документоориентированные">Документоориентированные</a></h3>
<p><img src="images/2.png" alt="alt text" /></p>
<h3><a class="header" href="#Реляционные-СУБД" id="Реляционные-СУБД">Реляционные СУБД</a></h3>
<p>Обычно используется SQL язык
<img src="images/3.png" alt="alt text" />
<img src="images/4.png" alt="alt text" />
<img src="images/5.png" alt="alt text" />
<img src="images/6.png" alt="alt text" /></p>
<h3><a class="header" href="#Кейс-Наш-Маркет" id="Кейс-Наш-Маркет">Кейс &quot;Наш Маркет&quot;</a></h3>
<p>Будем использовать <a href="https://ru.wikipedia.org/wiki/PostgreSQL">PostgreSQL</a> (потому что самая популярная БД в яшке)
<img src="images/7.png" alt="alt text" />
<img src="images/8.png" alt="alt text" /></p>
<p><strong>Первый инструмет</strong>
<img src="images/9.png" alt="alt text" /></p>
<p><strong>Второй инструмент</strong>
<img src="images/10.png" alt="alt text" /></p>
<p><img src="images/11.png" alt="alt text" /></p>
<h2><a class="header" href="#Индексы" id="Индексы">Индексы</a></h2>
<p><em>Как работает поиск по индексу?</em></p>
<p><strong>Первая задача</strong>
<img src="images/12.png" alt="alt text" />
<img src="images/13.png" alt="alt text" />
Что же здесь может пойти не так?
<img src="images/14.png" alt="alt text" />
340ms - долго
Seq Scan - это просто последовательный поиск
<img src="images/15.png" alt="alt text" />
Таким образом, сложностть поиска в такой таблице - $O(N)$</p>
<p>Что же сделать? Можно применить индексы:
<img src="images/16.png" alt="alt text" />
order_id является первичным ключом, и по умолчанию БД сразу строим по нему индекс, потому что по первичному ключу всегда ищутся записи. Но точно так же мы можем построить индекс по любому другому полю и искать по нему
<img src="images/17.png" alt="alt text" />
<img src="images/18.png" alt="alt text" />
Но есть ограничения: если для нашей таблицы создадим индекс по хеш таблице, то система выделит всего 5 статусов, и для каждого статуса будет список из большого количества записей, поэтому польза от такого индекса будет небольшая
<img src="images/19.png" alt="alt text" /></p>
<p><strong>Задача 2:</strong>
<img src="images/20.png" alt="alt text" />
<img src="images/21.png" alt="alt text" />
<img src="images/22.png" alt="alt text" />
<img src="images/23.png" alt="alt text" /></p>
<p>Можно построить полнотекстовый индекс: для этого надо векторизовать данные для построения полнотекстового индекса
<img src="images/24.png" alt="alt text" />
<img src="images/25.png" alt="alt text" /></p>
<p><strong>Задача 3:</strong>
<img src="images/26.png" alt="alt text" />
<img src="images/27.png" alt="alt text" />
<img src="images/28.png" alt="alt text" />
<img src="images/29.png" alt="alt text" /></p>
<p><img src="images/30.png" alt="alt text" />
Кластерные индексы - это те индексы, которые располагаются непосредственно с самими данными (как правило, это primary key)
Некластерные индексы - это те индексы, которые могут находиться отдельно
Индексы помогают контролировать уникальность: к примеру, primary key уникален
Как правило, вычисляемые индексы используются в постгресе при поиске подстрок. Есть MySQL и PostgreSQL: одно из главных отличий между ними - это то, что поиск по подстроке в MySQL регистронезависимый, а PostgreSQL поиск регистрозависимый (и чтобы сделать поиск регистронезависимым, нужно применить функции преобразования значения в верхний/нижний регистр)</p>
<p><img src="images/31.png" alt="alt text" /></p>
<h2><a class="header" href="#Материализованные-представления" id="Материализованные-представления">Материализованные представления</a></h2>
<p><strong>Задача 4:</strong>
<img src="images/32.png" alt="alt text" />
<img src="images/33.png" alt="alt text" />
<img src="images/34.png" alt="alt text" /></p>
<p>Как можно улучшить этот запрос? Мы можем избавиться от Seq Scan, добавив индекс
<img src="images/35.png" alt="alt text" />
Но запрос все равно остается тяжелым</p>
<p>Как можно еще ускорить? Мы можем создать материализованное представление, в котором система будет хранить уже рассчитанное значение, и таким образом скорость работы нашего приложения вырастет
<img src="images/36.png" alt="alt text" />
Мы не будем больше рассчитывать min и max, и периодически будем обновлять это значение
<img src="images/37.png" alt="alt text" />
Один из подводных камней - это вынесение бизнес логики. Очень редко, когда реализовывается бизнес логика на уровне БД, стараются все делать в коде. Но иногда мы можем создать миграцию, которая облегчит жизнь нашим пользователям, и они будут получать более достоверную информацию быстрее</p>
<p>Помимо материализованных представлений, которые хранятся на диске, есть еще и временные представления, которые хранятся в памяти, и их можно использовать при формировании сложных запросов</p>
<h2><a class="header" href="#Транзакции" id="Транзакции">Транзакции</a></h2>
<p><em>Что такое транзакция? Когда теряются данные?</em></p>
<p><img src="images/38.png" alt="alt text" />
Когда разработчик начинает разбираться, что же такое транзакция, как они используются и какие есть нюансы? Прежде всего когда начинаются какие-то проблемы. До этого момента мы могли использовать планировщик запросов и все понятно: мы строим план запросов, он показывает, как выполнился запрос: по индексу/не по индексу, скорость выполнения и т.д.. Но периодически начинают возникать проблемы: например, когда происходят двойные списания или двойные начисления, и начинает разрушаться баланс</p>
<p><img src="images/39.png" alt="alt text" />
<img src="images/40.png" alt="alt text" />
Видим Seq Scan, т.е. запрос работает долго. Что это значит? Когда к нам приходит много пользователей, у нас может возникнуть некоторая гонка между исполнением этих запросов. Соответственно, 26ms это долго. Ускорим его:
<img src="images/41.png" alt="alt text" />
Ускоряем запрос, добавляем индексы, получаем прирост производительности в 130 раз, но все равно проблема сохраняется, но стала гораздо реже</p>
<p>Почему у нас могут происходить двойные списания?
<img src="images/42.png" alt="alt text" />
Любой запрос - это транзакция, некоторая операция, которая выполняется в БД.
<img src="images/43.png" alt="alt text" />
Для того, чтобы всем этим управлять, в БД есть различные уровни изоляции
<img src="images/44.png" alt="alt text" />
<em>Опечатка: Serializable - последовательное чтение</em></p>
<p><img src="images/45.png" alt="alt text" />
<img src="images/46.png" alt="alt text" />
<img src="images/47.png" alt="alt text" />
<img src="images/48.png" alt="alt text" />
Мы можем управлять уровнями изоляций транзакций для того, чтобы решить проблему гонок между различными транзакциями
С помощью уровней изоляции мы можем решить проблему списаний/проблему начислений, система будет гарантировать, что никаких пересекающихся событий и изменений не произошло</p>
<h2><a class="header" href="#Блокировки" id="Блокировки">Блокировки</a></h2>
<p>Но пользователи могут выполнять действия в системе, а получат информацию о том, что что-то пошло не так
<img src="images/49.png" alt="alt text" />
Для этого нам поможет механизм блокировок
<img src="images/50.png" alt="alt text" />
<img src="images/51.png" alt="alt text" />
<img src="images/52.png" alt="alt text" />
Как можно решить Deadlock? Нужно ввести некоторые правила:</p>
<ul>
<li>Захват ресурсов следует делать в каком-то порядке: сортировка по ключам (если мы захватываем данные в одной и той же таблице), либо если мы работаем с разными таблицами, то нужно захватывать ресурсы в этих таблицах по алфавиту (есть customers и orders, сначала захватываем customers, затем orders)</li>
</ul>
<p>Для того, чтобы сделать списание чуть лучше, мы можем перед изменением записи добавить ключ FOR UPDATE
<img src="images/53.png" alt="alt text" /></p>
<h2><a class="header" href="#Денормализация" id="Денормализация">Денормализация</a></h2>
<p><em>Зачем нужна денормализация?</em></p>
<p>Нормализация - это очень важный процесс проектирования БД, но иногда (редко, но встречается) создать повторяющиеся записи, в одной ячейке хранить несколько записей, для того, чтобы связанные данные хранить как можно ближе, и тем самым ускорить выполнение запросов</p>
<p><img src="images/54.png" alt="alt text" />
<img src="images/55.png" alt="alt text" />
<img src="images/56.png" alt="alt text" /></p>
<p>Один из вариантов решения проблемы: создать доп. таблицу, в которой будут храниться денормализованные данные, либо эти данные хранить рядом с теми записями, которые мы регулярно используем
<img src="images/57.png" alt="alt text" /></p>
<p>Какой плюс хранения отдельно? Как правило, денормализованные данные имеют либо временное назначение (например, для отгрузки хранить эти значения, мы отгрузили эти товары, и эти денормализованные данные нам не нужны), либо мы можем для историчности хранить данные рядом (например, у нас есть имя покупателя - Денис, и мы можем указать, что имя покупателя было Денис. Таким образом, у нас таблица заказов будет очень большой, но при этом, если покупатель переименуется, в таблице заказов будет явно написано, что в этот момент покупатель назывался Денис. Таким образом, сохраним историчность)
<img src="images/58.png" alt="alt text" /></p>
<h2><a class="header" href="#Масштаб-ирование" id="Масштаб-ирование">Масштаб-ирование</a></h2>
<h3><a class="header" href="#Вертикальное-масштабирование" id="Вертикальное-масштабирование">Вертикальное масштабирование</a></h3>
<p>Если наша система медленно работает, не справляется с нагрузкой, то дайте побольше памяти, и помощнее процессоры, и диски побыстрее </p>
<h3><a class="header" href="#Репликация" id="Репликация">Репликация</a></h3>
<p>Когда эти самые простые инструменты исчерпаны, мы можем начать применять другие подходы, например <strong>репликацию</strong>
Когда у нас уже большой проект, мы понимаем, как он используется, что у нас большое количество запросов на чтение, меньшее количество запросов на запись, много пользователей
<img src="images/59.png" alt="alt text" /> </p>
<p>Разделим операции на чтение и на запись
<img src="images/60.png" alt="alt text" />
Разделение можно сделать на уровне приложения: добавим слой пул коннекторов, которые будут работать либо с репликами, либо с мастером
PostgreSQL использует репликацию, и все изменения в мастере он умеет синхронно и асинхронно доставлять до реплик
Что означает синхронно и асинхронно?
Синхронно означает, что при доставке данных PostgreSQL ожидает, что реплика пришлет подтверждение, что она получила данные, и в этот момент процесс доставки данных завершен, и он отправляет следующий порцию данных
Асинхронно означает, что он отправляет данные и не ждет, когда она вернется обратно
Таким образом, при использовании конфигураций синхронных и асинхронных реплик, у нас могут возникнуть данные из будущего, когда мы поместили какие-то изменения в мастер: они долетели до асинхронной реплики, а в синхронную реплику они еще не записались, и при выполнении запроса мы можем получить данные из будущего, которые еще до конца не долетели, но мы их уже начали в репликах использовать.</p>
<p><img src="images/61.png" alt="alt text" />
<img src="images/62.png" alt="alt text" /></p>
<h3><a class="header" href="#Шардирование" id="Шардирование">Шардирование</a></h3>
<p>Что делать, если и репликация нам не помогает? Допустим, у нас очень много данных
Используем шардирование запросов: у нас есть большая таблица, и мы можем подумать, как разделить ее на маленькие части
Например у нас есть таблица заказов, и мы можем разделить ее на части по периодам заказов. Таким образом, у нас эти шарды будут иметь меньшее значение
Можно применять другую стратегию: если у нас есть первичный ключ, мы можем придумать некоторую функцию, которая нам будет делить этот ключ, например, по остатку: если возьмем число 10, то по остатку 0..9 мы сможем выделить отдельные шарды и на этих шардах хранить данные вот по такой хитрой схеме.
Для чего нужны шарды и почему они влияют на скорость выполнения запросов? Когда мы разделяем одну большую таблицу на много маленьких таблиц, мы ускоряем работу этих таблиц</p>
<p>Можем комбинировать разные подходы:
<img src="images/63.png" alt="alt text" /></p>
<p><img src="images/65.png" alt="alt text" /></p>
<h2><a class="header" href="#Отказоустойчивость" id="Отказоустойчивость">Отказоустойчивость</a></h2>
<p><img src="images/66.png" alt="alt text" />
Чем плох этот подход? Если у нас всего 1 реплика и 1 мастер, то у нас в 2 раза больше запросов станет в мастер, и скорее всего тоже начнет отказывать. Поэтому при наличие реплик лучше делать количество реплик хотя бы 2, а лучше больше
<img src="images/67.png" alt="alt text" />
<img src="images/68.png" alt="alt text" /></p>
<h2><a class="header" href="#Безопасность" id="Безопасность">Безопасность</a></h2>
<p>После всего этого нам нужно убедиться, что система безопасна
<img src="images/69.png" alt="alt text" /></p>
<h1><a class="header" href="#Работа-с-БД-из-приложения-и-миграции" id="Работа-с-БД-из-приложения-и-миграции">Работа с БД из приложения и миграции</a></h1>
<p><em>Какие БД существуют, SQL для приложений, приложения на userver, распределенные приложения</em>
<img src="images/70.png" alt="alt text" /></p>
<h2><a class="header" href="#Виды-БД" id="Виды-БД">Виды БД</a></h2>
<p><img src="images/71.png" alt="alt text" />
<img src="images/72.png" alt="alt text" /></p>
<p><a href="https://db-engines.com/en/ranking">Рейтинг DB-engines</a>
<img src="images/73.png" alt="alt text" /></p>
<p><img src="images/74.png" alt="alt text" />
<img src="images/75.png" alt="alt text" /></p>
<h2><a class="header" href="#sql-для-приложений" id="sql-для-приложений">SQL для приложений</a></h2>
<p><strong>Основные конструкции, идимоы</strong></p>
<ul>
<li>RETURNING</li>
<li>UPSERT</li>
<li>SELECT FOR UPDATE</li>
<li>COPY FROM, COPY TO</li>
</ul>
<h3><a class="header" href="#returning" id="returning">RETURNING</a></h3>
<p>Оператор языка SQL, возвращает значение после выполнения команды в приложение
<img src="images/76.png" alt="alt text" /></p>
<h3><a class="header" href="#upsert" id="upsert">UPSERT</a></h3>
<p><em>update + insert</em>
<img src="images/77.png" alt="alt text" /></p>
<h3><a class="header" href="#select-for-update" id="select-for-update">SELECT FOR UPDATE</a></h3>
<p><img src="images/78.png" alt="alt text" /></p>
<h3><a class="header" href="#copy-from-copy-to" id="copy-from-copy-to">COPY FROM, COPY TO</a></h3>
<p><img src="images/79.png" alt="alt text" /></p>
<h2><a class="header" href="#Разработка-с-postgresql-из-userver" id="Разработка-с-postgresql-из-userver">Разработка с PostgreSQL из userver</a></h2>
<p><em><a href="https://github.com/userver-framework/pg_service_template">Проект, которые написали авторы userver</a></em></p>
<p><img src="images/80.png" alt="alt text" />
<img src="images/81.png" alt="alt text" /></p>
<p><img src="images/82.png" alt="alt text" />
<img src="images/83.png" alt="alt text" /></p>
<p><img src="images/84.png" alt="alt text" />
<img src="images/85.png" alt="alt text" />
<img src="images/86.png" alt="alt text" /></p>
<p><img src="images/87.png" alt="alt text" /></p>
<h2><a class="header" href="#Исключения" id="Исключения">Исключения</a></h2>
<p><img src="images/88.png" alt="alt text" />
<img src="images/89.png" alt="alt text" />
<img src="images/90.png" alt="alt text" /></p>
<h2><a class="header" href="#Приведение-типов-postgres---userver" id="Приведение-типов-postgres---userver">Приведение типов Postgres &lt;-&gt; userver</a></h2>
<p><img src="images/91.png" alt="alt text" />
<img src="images/92.png" alt="alt text" />
<img src="images/93.png" alt="alt text" />
<img src="images/94.png" alt="alt text" />
<img src="images/95.png" alt="alt text" />
<img src="images/96.png" alt="alt text" /></p>
<h2><a class="header" href="#Транзакции-1" id="Транзакции-1">Транзакции</a></h2>
<p>Транзакция - это одна из фишек реляционных баз данных, которые позволяют нам реализовывать некоторую комплексную логику, обеспечивать дополнительную надежность
<img src="images/97.png" alt="alt text" />
<img src="images/98.png" alt="alt text" /></p>
<p><img src="images/99.png" alt="alt text" />
<img src="images/100.png" alt="alt text" /></p>
<p>Уровни изоляции (не все):
<img src="images/101.png" alt="alt text" />
<img src="images/102.png" alt="alt text" />
<img src="images/103.png" alt="alt text" /></p>
<h2><a class="header" href="#Миграции" id="Миграции">Миграции</a></h2>
<p>Миграции - это SQL-скрипты для изменения схем БД
<img src="images/104.png" alt="alt text" />
<img src="images/105.png" alt="alt text" /></p>
<p><strong><a href="https://github.com/yandex/pgmigrate/blob/master/doc/tutorial.md">Утилита pgmigrate</a></strong>
<img src="images/106.png" alt="alt text" />
<img src="images/107.png" alt="alt text" />
<img src="images/108.png" alt="alt text" /></p>
<p><img src="images/109.png" alt="alt text" />
<img src="images/110.png" alt="alt text" /></p>
<p><img src="images/111.png" alt="alt text" />
<img src="images/112.png" alt="alt text" /></p>
<p><img src="images/113.png" alt="alt text" />
<img src="images/114.png" alt="alt text" /></p>
<p><img src="images/115.png" alt="alt text" />
<img src="images/116.png" alt="alt text" />
<img src="images/117.png" alt="alt text" />
<img src="images/118.png" alt="alt text" /></p>
<h2><a class="header" href="#Транзакционные-миграции" id="Транзакционные-миграции">Транзакционные миграции</a></h2>
<p><img src="images/119.png" alt="alt text" /></p>
<h2><a class="header" href="#Про-индексы" id="Про-индексы">Про индексы</a></h2>
<p><img src="images/120.png" alt="alt text" />
<img src="images/121.png" alt="alt text" /></p>
<h2><a class="header" href="#Протокол-postgresql-Пулы-соединений" id="Протокол-postgresql-Пулы-соединений">Протокол PostgreSQL. Пулы соединений</a></h2>
<h3><a class="header" href="#Протоколы" id="Протоколы">Протоколы</a></h3>
<p><img src="images/122.png" alt="alt text" />
<img src="images/123.png" alt="alt text" />
<img src="images/124.png" alt="alt text" /></p>
<h3><a class="header" href="#Пул-соединений" id="Пул-соединений">Пул соединений</a></h3>
<p><img src="images/125.png" alt="alt text" />
<img src="images/126.png" alt="alt text" />
<img src="images/127.png" alt="alt text" /></p>
<p><img src="images/128.png" alt="alt text" />
<img src="images/129.png" alt="alt text" /></p>
<h2><a class="header" href="#postgres-в-распределенной-системе" id="postgres-в-распределенной-системе">Postgres в распределенной системе</a></h2>
<p><img src="images/130.png" alt="alt text" /></p>
<p><img src="images/131.png" alt="alt text" /></p>
<p><img src="images/132.png" alt="alt text" /></p>
<p><img src="images/133.png" alt="alt text" />
<img src="images/134.png" alt="alt text" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../distributed_systems/theory.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../network/theory.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../distributed_systems/theory.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../network/theory.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
